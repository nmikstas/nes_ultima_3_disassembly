"use strict";

//The formula for figuring out the SQ1, SQ2 frequency is as follows: 1789773/(16*(hhhllllllll+1)).
//The frequency for the triangle channel is 1/2 the frequency for the square wave channels.

let noteTblHi =
[
    0x06, 0x06, 0x05, 0x05, 0x05, 0x05, 0x04, 0x04, 0x04, 0x03, 0x03, 0x03, 0x03, 0x03, 0x02, 0x02,
    0x02, 0x02, 0x02, 0x02, 0x02, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
    0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
]

let noteTblLo =
[
    0xAE, 0x4E, 0xF4, 0x9E, 0x4D, 0x01, 0xB9, 0x75, 0x35, 0xF9, 0xC0, 0x8A, 0x57, 0x27, 0xFA, 0xCF,
    0xA7, 0x81, 0x5D, 0x3B, 0x1B, 0xFC, 0xE0, 0xC5, 0xAC, 0x94, 0x7D, 0x68, 0x53, 0x40, 0x2E, 0x1D,
    0x0D, 0xFE, 0xF0, 0xE2, 0xD6, 0xCA, 0xBE, 0xB4, 0xAA, 0xA0, 0x97, 0x8F, 0x87, 0x7F, 0x78, 0x71,
    0x6B, 0x65, 0x5F, 0x5A, 0x55, 0x50, 0x4C, 0x47, 0x43, 0x40, 0x3C, 0x39
]

for(let i = 0; i < noteTblHi.length; i++)
{
    let combinedData = (noteTblHi[i] << 8) | noteTblLo[i];
    let SQFreq = 1789773 / (16 * (combinedData+1));
    let TriFreq = SQFreq / 2;

    //;$06, $AE Index #$00 - 65.38Hz   - C2  (SQ1/SQ2), 32.96Hz   - C1  (TRI).

    let hiString = noteTblHi[i].toString(16).toUpperCase();
    let loString = noteTblLo[i].toString(16).toUpperCase();
    let indexString = i.toString(16).toUpperCase();

    if(hiString.length === 1)hiString = "0" + hiString;
    if(loString.length === 1)loString = "0" + loString;
    if(indexString.length === 1)indexString = "0" + indexString;

    console.log(";$"+ hiString + ", $" + loString + " Index $" + indexString + " - " + 
                SQFreq.toFixed(2) + "Hz - (SQ1/SQ2), " + TriFreq.toFixed(2) + "Hz - (TRI).");
}